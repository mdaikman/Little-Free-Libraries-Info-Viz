{"ast":null,"code":"import _classCallCheck from \"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\mda\\\\Desktop\\\\goGITit\\\\invisible\\\\Info-Viz\\\\src\\\\components\\\\Map.js\";\nimport React from \"react\";\nimport { MapContainer, TileLayer, GeoJSON } from \"react-leaflet\";\nimport Legend from \"./Legend.js\";\nimport { features } from \"../data/CSDs_LFLs.json\"; // import { features } from \"../data/LFLs_assigned.json\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Map = /*#__PURE__*/function (_React$Component) {\n  _inherits(Map, _React$Component);\n\n  var _super = _createSuper(Map);\n\n  function Map() {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.defaultStyle = function (feature) {\n      return {\n        fillColor: \"#54c5d5\",\n        weight: 1,\n        opacity: 1,\n        color: \"black\",\n        fillOpacity: 0.6\n      };\n    };\n\n    _this.highlightStyle = function () {\n      return {\n        fillColor: \"#78716e\",\n        weight: 1,\n        opacity: 1,\n        color: \"black\",\n        fillOpacity: 0.6\n      };\n    };\n\n    _this.highlightFeature = function (e) {\n      var layer = e.target;\n      layer.setStyle({\n        weight: 1,\n        color: \"black\",\n        fillOpacity: 0.6,\n        fillColor: \"#78716e\"\n      });\n    };\n\n    _this.resetHighlight = function (e) {\n      e.target.setStyle(_this.defaultStyle(e.target.feature));\n    };\n\n    _this.onEachCSD = function (csd, layer) {\n      var name = csd.properties[\"Census subdivision name\"];\n      layer.bindTooltip(name).openTooltip();\n      layer.on({\n        mouseover: _this.highlightFeature,\n        mouseout: _this.resetHighlight\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"setMap\",\n    value: function setMap(map) {\n      this.props.onMapCreate(map);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.state.map != null) {\n        this.props.state.map.eachLayer(function (layer) {\n          if (!layer.feature) return;\n\n          if (layer.feature.properties[\"Census subdivision name\"] === \"Metchosin\") {\n            layer.setStyle(_this2.defaultStyle(layer.feature));\n            layer.setStyle(_this2.highlightStyle(layer.feature));\n          }\n        });\n      }\n\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: this.props.state.value && /*#__PURE__*/_jsxDEV(MapContainer, {\n          center: [48.4284, -123.7656],\n          zoom: 10,\n          scrollWheelZoom: true,\n          whenCreated: this.setMap.bind(this),\n          children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n            attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n            url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(GeoJSON, {\n            style: this.defaultStyle,\n            data: features,\n            onEachFeature: this.onEachCSD\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false);\n    }\n  }]);\n\n  return Map;\n}(React.Component);\n\nexport { Map as default };","map":{"version":3,"sources":["C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/src/components/Map.js"],"names":["React","MapContainer","TileLayer","GeoJSON","Legend","features","Map","defaultStyle","feature","fillColor","weight","opacity","color","fillOpacity","highlightStyle","highlightFeature","e","layer","target","setStyle","resetHighlight","onEachCSD","csd","name","properties","bindTooltip","openTooltip","on","mouseover","mouseout","map","props","onMapCreate","state","eachLayer","value","setMap","bind","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { MapContainer, TileLayer, GeoJSON } from \"react-leaflet\";\r\nimport Legend from \"./Legend.js\";\r\n\r\nimport { features } from \"../data/CSDs_LFLs.json\";\r\n// import { features } from \"../data/LFLs_assigned.json\";\r\n\r\nexport default class Map extends React.Component {\r\n  defaultStyle = (feature) => {\r\n    return {\r\n      fillColor: \"#54c5d5\",\r\n      weight: 1,\r\n      opacity: 1,\r\n      color: \"black\",\r\n      fillOpacity: 0.6,\r\n    };\r\n  };\r\n\r\n  highlightStyle = () => {\r\n    return {\r\n      fillColor: \"#78716e\",\r\n      weight: 1,\r\n      opacity: 1,\r\n      color: \"black\",\r\n      fillOpacity: 0.6,\r\n    };\r\n  };\r\n\r\n  highlightFeature = (e) => {\r\n    var layer = e.target;\r\n\r\n    layer.setStyle({\r\n      weight: 1,\r\n      color: \"black\",\r\n      fillOpacity: 0.6,\r\n      fillColor: \"#78716e\",\r\n    });\r\n  };\r\n\r\n  resetHighlight = (e) => {\r\n    e.target.setStyle(this.defaultStyle(e.target.feature));\r\n  };\r\n\r\n  onEachCSD = (csd, layer) => {\r\n    const name = csd.properties[\"Census subdivision name\"];\r\n\r\n    layer.bindTooltip(name).openTooltip();\r\n\r\n    layer.on({\r\n      mouseover: this.highlightFeature,\r\n      mouseout: this.resetHighlight,\r\n    });\r\n  };\r\n\r\n  setMap(map) {\r\n    this.props.onMapCreate(map);\r\n  }\r\n\r\n  render() {\r\n    if (this.props.state.map != null) {\r\n      this.props.state.map.eachLayer((layer) => {\r\n        if (!layer.feature) return;\r\n\r\n        if (layer.feature.properties[\"Census subdivision name\"] === \"Metchosin\") {\r\n          layer.setStyle(this.defaultStyle(layer.feature));\r\n\r\n          layer.setStyle(this.highlightStyle(layer.feature));\r\n        }\r\n      });\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {this.props.state.value && (\r\n          <MapContainer\r\n            center={[48.4284, -123.7656]}\r\n            zoom={10}\r\n            scrollWheelZoom={true}\r\n            whenCreated={this.setMap.bind(this)}\r\n          >\r\n            <TileLayer\r\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n\r\n            <GeoJSON\r\n              style={this.defaultStyle}\r\n              data={features}\r\n              onEachFeature={this.onEachCSD}\r\n            />\r\n\r\n            <Legend />\r\n          </MapContainer>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}