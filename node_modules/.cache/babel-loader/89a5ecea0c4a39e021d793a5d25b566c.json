{"ast":null,"code":"import _classCallCheck from\"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{ResponsiveScatterPlot}from\"@nivo/scatterplot\";import data1 from\"../data/data1.json\";import data2 from\"../data/data2.json\";import data3 from\"../data/data3.json\";import data4 from\"../data/data4.json\";import data5 from\"../data/data5.json\";import{jsx as _jsx}from\"react/jsx-runtime\";var colors_number=['#0707FF','#3737FF','#B7B7FF','#D1D1FF','#D9D9FF','#DBDBFF','#DCDCFF','#E0E0FF','#E3E3FF','#E4E4FF','#ECECFF','#EFEFFF','#F0F0FF','#F1F1FF','#F4F4FF'];var colors_density=['#1515FF','#D3D3FF','#A2A2FF','#B5B5FF','#E9E9FF','#E9E9FF','#EBEBFF','#E1E1FF','#DFDFFF','#F0F0FF','#F3F3FF','#E4E4FF','#F3F3FF','#F5F5FF','#F5F5FF'];//Follows this order for LFL #s & LFL/SqKm:\n// Victoria, Saanich, Oak Bay, Esquimalt, North Saanich, Langford, Central Saanich, Colwood, View Royal, Sooke, Metchosin, Sidney, Highlands, Juan de Fuca (Part 1), Juan de Fuca (Part 2)\nvar Chart=/*#__PURE__*/function(_React$Component){_inherits(Chart,_React$Component);var _super=_createSuper(Chart);function Chart(){_classCallCheck(this,Chart);return _super.apply(this,arguments);}_createClass(Chart,[{key:\"render\",value:function render(){var _this=this;var data;var markers=[];var axisBottom={};var axisLeft={};var xFormat=\" >-$,.2f\";var yFormat=\" >-$,.2f\";var xScale={type:'linear',min:0,max:'auto'};var colors=colors_number;var featureNum=0;var featureName=\"\";var annotations=[];// switch for legends\nswitch(this.props.state.legend){case 1:colors=colors_number;break;case 2:colors=colors_density;break;default:break;}// Annotations\n// https://nivo.rocks/storybook/?path=/story/swarmplot--using-annotations\nif(this.props.state.selectedFeature!=null){featureNum=this.props.state.infoPanel.findIndex(function(x){return x.id===_this.props.state.selectedFeature.feature.properties[\"Census subdivision name\"];});featureName=this.props.state.selectedFeature.feature.properties[\"Census subdivision name\"];annotations=[{type:'circle',match:{index:featureNum},noteX:40,noteY:40,offset:12,note:featureName}];}// switch for charts\nswitch(this.props.state.chart){case 1:data=data1;markers=[{axis:'y',value:62900,lineStyle:{stroke:'#888',strokeWidth:2},legend:'Canadian Median Income $62,900',legendPosition:'bottom',legendOffset:-60,textStyle:{fill:'#888',fontSize:12}},{axis:'x',value:82,lineStyle:{stroke:'#888',strokeWidth:2},legend:'Canadian Life Expectancy: 82 years',legendPosition:'top',legendOffset:0,textStyle:{fill:'#888',fontSize:12}}];axisBottom={orient:'bottom',tickSize:5,tickPadding:5,tickRotation:0,legend:'Median Age (years)',legendPosition:'middle',legendOffset:46};axisLeft={orient:'left',tickSize:5,tickPadding:5,tickRotation:0,legend:'Median Household Income',legendPosition:'middle',legendOffset:-60,format:\">-$,.0f\"};xFormat=\">.0f\";yFormat=\">-$,.0f\";xScale={type:'linear',min:0,max:'82'};break;case 2:data=data2;markers=[{axis:'y',value:62900,lineStyle:{stroke:'#888',strokeWidth:2},legend:'Canadian Median Income $62,900',legendPosition:'bottom',legendOffset:-60,textStyle:{fill:'#888',fontSize:12}}];axisBottom={orient:'bottom',tickSize:5,tickPadding:5,tickRotation:0,legend:'Total Number of Houses',legendPosition:'middle',legendOffset:46};axisLeft={orient:'left',tickSize:5,tickPadding:5,tickRotation:0,legend:'Median Household Income',legendPosition:'middle',legendOffset:-60,format:\">-$,.0f\"};xFormat=\">.0f\";yFormat=\">$,.0f\";xScale={type:'linear',min:0,max:'auto'};break;case 3:data=data3;markers=[];axisBottom={orient:'bottom',tickSize:5,tickPadding:5,tickRotation:0,legend:'Total Number of Houses',legendPosition:'middle',legendOffset:46};axisLeft={orient:'left',tickSize:5,tickPadding:5,tickRotation:0,legend:'Population Density (People Per SqKm)',legendPosition:'middle',legendOffset:-60,format:\">.0f\"};xFormat=\">,.0f\";yFormat=\">,.0f\";xScale={type:'linear',min:0,max:'auto'};break;case 4:data=data4;markers=[];axisBottom={orient:'bottom',tickSize:5,tickPadding:5,tickRotation:0,legend:'Little Free Library Density (LFLs Per SqKm)',legendPosition:'middle',legendOffset:46};axisLeft={orient:'left',tickSize:5,tickPadding:5,tickRotation:0,legend:'Population Density (People Per SqKm)',legendPosition:'middle',legendOffset:-60,format:\">.0f\"};xFormat=\">,.2f\";yFormat=\">,.0f\";xScale={type:'linear',min:0,max:'10'};break;case 5:data=data5;markers=[{axis:'y',value:.226,lineStyle:{stroke:'#888',strokeWidth:2},legend:'Canadian Non-official Language Speakers: 22.6%',legendPosition:'bottom',legendOffset:-60,textStyle:{fill:'#888',fontSize:12}},{axis:'x',value:.223,lineStyle:{stroke:'#888',strokeWidth:2},legend:'Canadian Visible Minorities: 22.3%',legendPosition:'top',legendOffset:0,textStyle:{fill:'#888',fontSize:12}}];axisBottom={orient:'bottom',tickSize:5,tickPadding:5,tickRotation:0,legend:'% Visible Minorities',legendPosition:'middle',legendOffset:46,format:\">.0%\"};axisLeft={orient:'left',tickSize:5,tickPadding:5,tickRotation:0,legend:'% Non-Official Language Speakers',legendPosition:'middle',legendOffset:-60,format:\">.0%\"};xFormat=\">.2%\";yFormat=\">.2%\";xScale={type:'linear',min:0,max:'.25'};break;default:break;}return/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(ResponsiveScatterPlot,{data:data,margin:{top:60,right:190,bottom:100,left:90},xScale:xScale,xFormat:xFormat,yScale:{type:'linear',min:0,max:'auto'},yFormat:yFormat// https://stackoverflow.com/questions/67241395/how-to-add-custom-color-theme-in-nivo-chart-settings\n// /*\n,colors:colors,colorBy:\"index\",blendMode:\"multiply\",axisTop:null,axisRight:null,axisBottom:axisBottom,axisLeft:axisLeft,markers:markers,annotations:annotations,motionConfig:{mass:87,tension:427,friction:500,clamp:false,precision:0.01,velocity:0},legends:[{anchor:'right',direction:'column',justify:false,translateX:115,translateY:0,itemWidth:100,itemHeight:12,itemsSpacing:5,itemDirection:'left-to-right',symbolSize:12,symbolShape:'square',effects:[{on:'hover',style:{itemOpacity:1}}]}]})});}}]);return Chart;}(React.Component);export{Chart as default};","map":{"version":3,"sources":["C:/Users/mda/Desktop/goGITit/invisible/Info-Viz/src/components/Chart.js"],"names":["React","ResponsiveScatterPlot","data1","data2","data3","data4","data5","colors_number","colors_density","Chart","data","markers","axisBottom","axisLeft","xFormat","yFormat","xScale","type","min","max","colors","featureNum","featureName","annotations","props","state","legend","selectedFeature","infoPanel","findIndex","x","id","feature","properties","match","index","noteX","noteY","offset","note","chart","axis","value","lineStyle","stroke","strokeWidth","legendPosition","legendOffset","textStyle","fill","fontSize","orient","tickSize","tickPadding","tickRotation","format","top","right","bottom","left","mass","tension","friction","clamp","precision","velocity","anchor","direction","justify","translateX","translateY","itemWidth","itemHeight","itemsSpacing","itemDirection","symbolSize","symbolShape","effects","on","style","itemOpacity","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { ResponsiveScatterPlot } from \"@nivo/scatterplot\";\r\n\r\nimport data1 from \"../data/data1.json\";\r\nimport data2 from \"../data/data2.json\";\r\nimport data3 from \"../data/data3.json\";\r\nimport data4 from \"../data/data4.json\";\r\nimport data5 from \"../data/data5.json\";\r\n\r\nlet colors_number  = ['#0707FF','#3737FF','#B7B7FF','#D1D1FF','#D9D9FF','#DBDBFF','#DCDCFF','#E0E0FF','#E3E3FF','#E4E4FF','#ECECFF','#EFEFFF','#F0F0FF','#F1F1FF','#F4F4FF'];\r\nlet colors_density = ['#1515FF','#D3D3FF','#A2A2FF','#B5B5FF','#E9E9FF','#E9E9FF','#EBEBFF','#E1E1FF','#DFDFFF','#F0F0FF','#F3F3FF','#E4E4FF','#F3F3FF','#F5F5FF','#F5F5FF'];\r\n                \r\n//Follows this order for LFL #s & LFL/SqKm:\r\n// Victoria, Saanich, Oak Bay, Esquimalt, North Saanich, Langford, Central Saanich, Colwood, View Royal, Sooke, Metchosin, Sidney, Highlands, Juan de Fuca (Part 1), Juan de Fuca (Part 2)\r\n                        \r\nexport default class Chart extends React.Component {\r\n  render() {\r\n    var data;\r\n    var markers     = [];\r\n    var axisBottom  = {};\r\n    var axisLeft    = {};\r\n    var xFormat     = \" >-$,.2f\"\r\n    var yFormat     = \" >-$,.2f\"\r\n    var xScale      = { type: 'linear', min: 0, max: 'auto' }\r\n    var colors      = colors_number;\r\n    var featureNum  = 0;\r\n    var featureName = \"\";\r\n    var annotations = [];\r\n    \r\n    \r\n    // switch for legends\r\n    switch(this.props.state.legend) {\r\n        case 1:\r\n            colors = colors_number;\r\n            break;\r\n        case 2:\r\n            colors = colors_density;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    \r\n    // Annotations\r\n    // https://nivo.rocks/storybook/?path=/story/swarmplot--using-annotations\r\n    \r\n    \r\n    if(this.props.state.selectedFeature != null) {\r\n        featureNum = this.props.state.infoPanel.findIndex(x => x.id === this.props.state.selectedFeature.feature.properties[\"Census subdivision name\"]);\r\n        featureName = this.props.state.selectedFeature.feature.properties[\"Census subdivision name\"];\r\n        annotations=[\r\n            {\r\n                type: 'circle',\r\n                match: { index: featureNum },\r\n                noteX: 40,\r\n                noteY: 40,\r\n                offset: 12,\r\n                note: featureName,\r\n            }\r\n        ]\r\n    }\r\n\r\n    \r\n    // switch for charts\r\n    switch(this.props.state.chart) {\r\n        case 1:\r\n            data = data1;\r\n            markers = [\r\n                    {\r\n                      axis: 'y',\r\n                      value: 62900,\r\n                      lineStyle: { stroke: '#888', strokeWidth: 2 },\r\n                      legend: 'Canadian Median Income $62,900',\r\n                      legendPosition: 'bottom',\r\n                      legendOffset: -60,\r\n                      textStyle: {\r\n                        fill: '#888',\r\n                        fontSize: 12 ,\r\n                      }\r\n                    },\r\n                    {\r\n                      axis: 'x',\r\n                      value: 82,\r\n                      lineStyle: { stroke: '#888', strokeWidth: 2 },\r\n                      legend: 'Canadian Life Expectancy: 82 years',\r\n                      legendPosition: 'top',\r\n                      legendOffset: 0,\r\n                      textStyle: {\r\n                        fill: '#888',\r\n                        fontSize: 12 ,\r\n                      }\r\n                    }\r\n                ];\r\n            axisBottom = {\r\n                    orient: 'bottom',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Median Age (years)',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: 46\r\n                }\r\n            axisLeft = {\r\n                    orient: 'left',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Median Household Income',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: -60,\r\n                    format: \">-$,.0f\"\r\n                }\r\n            xFormat = \">.0f\";\r\n            yFormat = \">-$,.0f\";\r\n            xScale  = { type: 'linear', min: 0, max: '82' }\r\n            break;\r\n        case 2:\r\n            data = data2;\r\n            markers = [\r\n                    {\r\n                      axis: 'y',\r\n                      value: 62900,\r\n                      lineStyle: { stroke: '#888', strokeWidth: 2 },\r\n                      legend: 'Canadian Median Income $62,900',\r\n                      legendPosition: 'bottom',\r\n                      legendOffset: -60,\r\n                      textStyle: {\r\n                        fill: '#888',\r\n                        fontSize: 12 ,\r\n                      }\r\n                    }\r\n                ];\r\n            axisBottom = {\r\n                    orient: 'bottom',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Total Number of Houses',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: 46\r\n                }\r\n            axisLeft = {\r\n                    orient: 'left',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Median Household Income',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: -60,\r\n                    format: \">-$,.0f\"\r\n                }\r\n            xFormat = \">.0f\";\r\n            yFormat = \">$,.0f\";\r\n            xScale  = { type: 'linear', min: 0, max: 'auto' };\r\n            break;\r\n        case 3:\r\n            data = data3;\r\n            markers = [\r\n                    \r\n                ];\r\n            axisBottom = {\r\n                    orient: 'bottom',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Total Number of Houses',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: 46\r\n                }\r\n            axisLeft = {\r\n                    orient: 'left',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Population Density (People Per SqKm)',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: -60,\r\n                    format: \">.0f\"\r\n                }\r\n            xFormat = \">,.0f\";\r\n            yFormat = \">,.0f\";\r\n            xScale  = { type: 'linear', min: 0, max: 'auto' };\r\n            break;\r\n        case 4:\r\n            data = data4;\r\n            markers = [\r\n                ];\r\n            axisBottom = {\r\n                    orient: 'bottom',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Little Free Library Density (LFLs Per SqKm)',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: 46\r\n                }\r\n            axisLeft = {\r\n                    orient: 'left',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: 'Population Density (People Per SqKm)',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: -60,\r\n                    format: \">.0f\"\r\n                }\r\n            xFormat = \">,.2f\";\r\n            yFormat = \">,.0f\";\r\n            xScale  = { type: 'linear', min: 0, max: '10' }\r\n            break;\r\n        case 5:\r\n            data = data5;\r\n            markers = [\r\n                    {\r\n                      axis: 'y',\r\n                      value: .226,\r\n                      lineStyle: { stroke: '#888', strokeWidth: 2 },\r\n                      legend: 'Canadian Non-official Language Speakers: 22.6%',\r\n                      legendPosition: 'bottom',\r\n                      legendOffset: -60,\r\n                      textStyle: {\r\n                        fill: '#888',\r\n                        fontSize: 12 ,\r\n                      }\r\n                    },\r\n                    {\r\n                      axis: 'x',\r\n                      value: .223,\r\n                      lineStyle: { stroke: '#888', strokeWidth: 2 },\r\n                      legend: 'Canadian Visible Minorities: 22.3%',\r\n                      legendPosition: 'top',\r\n                      legendOffset: 0,\r\n                      textStyle: {\r\n                        fill: '#888',\r\n                        fontSize: 12 ,\r\n                      }\r\n                    }\r\n                ];\r\n            axisBottom = {\r\n                    orient: 'bottom',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: '% Visible Minorities',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: 46,\r\n                    format: \">.0%\"\r\n                }\r\n            axisLeft = {\r\n                    orient: 'left',\r\n                    tickSize: 5,\r\n                    tickPadding: 5,\r\n                    tickRotation: 0,\r\n                    legend: '% Non-Official Language Speakers',\r\n                    legendPosition: 'middle',\r\n                    legendOffset: -60,\r\n                    format: \">.0%\"\r\n                }\r\n            xFormat = \">.2%\";\r\n            yFormat = \">.2%\";\r\n            xScale  = { type: 'linear', min: 0, max: '.25' };\r\n            break;   \r\n        default:\r\n            break;\r\n    }\r\n    return (\r\n        <div className=\"chart\">\r\n            <ResponsiveScatterPlot\r\n                data={data}\r\n                margin={{ top: 60, right: 190, bottom: 100, left: 90 }}\r\n                xScale={ xScale }\r\n                xFormat={ xFormat }\r\n                yScale={{ type: 'linear', min: 0, max: 'auto' }}\r\n                yFormat={ yFormat }\r\n                // https://stackoverflow.com/questions/67241395/how-to-add-custom-color-theme-in-nivo-chart-settings\r\n                // /*\r\n                colors={colors}\r\n                colorBy=\"index\"\r\n                blendMode=\"multiply\"\r\n                axisTop={null}\r\n                axisRight={null}\r\n                axisBottom={ axisBottom }\r\n                axisLeft={ axisLeft }\r\n                markers={ markers }\r\n                annotations = { annotations }\r\n                motionConfig={{\r\n                        mass: 87,\r\n                        tension: 427,\r\n                        friction: 500,\r\n                        clamp: false,\r\n                        precision: 0.01,\r\n                        velocity: 0 }}\r\n                legends={[\r\n                    {\r\n                        anchor: 'right',\r\n                        direction: 'column',\r\n                        justify: false,\r\n                        translateX: 115,\r\n                        translateY: 0,\r\n                        itemWidth: 100,\r\n                        itemHeight: 12,\r\n                        itemsSpacing: 5,\r\n                        itemDirection: 'left-to-right',\r\n                        symbolSize: 12,\r\n                        symbolShape: 'square',\r\n                        effects: [\r\n                            {\r\n                                on: 'hover',\r\n                                style: {\r\n                                    itemOpacity: 1\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                ]}\r\n            />\r\n        </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}